var VueApolloComponents=function(t,r,e){"use strict";function o(e,t){var o,r=Object.keys(e);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(e),t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)),r}function i(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach(function(t){var e,o;e=r,o=i[t=t],(t=function(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0===o)return("string"===e?String:Number)(t);o=o.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var n={name:"ApolloQuery",provide:function(){return{getDollarApollo:this.getDollarApollo,getApolloQuery:this.getApolloQuery}},emits:["loading","result","error"],props:{query:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},fetchPolicy:{type:String,default:void 0},pollInterval:{type:Number,default:void 0},notifyOnNetworkStatusChange:{type:Boolean,default:void 0},context:{type:Object,default:void 0},update:{type:Function,default:function(t){return t}},skip:{type:Boolean,default:!1},debounce:{type:Number,default:0},throttle:{type:Number,default:0},clientId:{type:String,default:void 0},deep:{type:Boolean,default:void 0},tag:{type:String,default:"div"},prefetch:{type:Boolean,default:!0},options:{type:Object,default:function(){return{}}}},data:function(){return{result:{data:null,loading:!1,networkStatus:7,error:null},times:0}},watch:{fetchPolicy:function(t){this.$apollo.queries.query.setOptions({fetchPolicy:t})},pollInterval:function(t){this.$apollo.queries.query.setOptions({pollInterval:t})},notifyOnNetworkStatusChange:function(t){this.$apollo.queries.query.setOptions({notifyOnNetworkStatusChange:t})},"$data.$apolloData.loading":function(t){this.$emit("loading",!!t)}},apollo:{$client:function(){return this.clientId},query:function(){return i(i({query:function(){return"function"==typeof this.query?this.query(r):this.query},variables:function(){return this.variables},fetchPolicy:this.fetchPolicy,pollInterval:this.pollInterval,debounce:this.debounce,throttle:this.throttle,notifyOnNetworkStatusChange:this.notifyOnNetworkStatusChange,context:function(){return this.context},skip:function(){return this.skip},deep:this.deep,prefetch:this.prefetch},this.options),{},{manual:!0,result:function(t){var e=t,o=e.errors,r=e.loading,e=e.networkStatus,i=t.error,o=(t=Object.assign({},t),o&&o.length&&((i=new Error("Apollo errors occurred (".concat(o.length,")"))).graphQLErrors=o),{}),t=(r?Object.assign(o,this.$_previousData,t.data):i?Object.assign(o,this.$apollo.queries.query.observer.getLastResult()||{},t.data):(o=t.data,this.$_previousData=t.data),(t=o)&&0<Object.keys(t).length);this.result={data:t?this.update(o):void 0,fullData:t?o:void 0,loading:r,error:i,networkStatus:e},this.times=++this.$_times,this.$emit("result",this.result)},error:function(t){this.result.loading=!1,this.result.error=t,this.$emit("error",t)}})}},created:function(){this.$_times=0},methods:{getDollarApollo:function(){return this.$apollo},getApolloQuery:function(){return this.$apollo.queries.query}},render:function(){var t=this.$slots.default({result:this.result,times:this.times,query:this.$apollo.queries.query,isLoading:this.$apolloData.loading,gqlError:this.result&&this.result.error&&this.result.error.gqlError});return this.tag?e.h(this.tag,t):t}},u=0,l={name:"ApolloSubscribeToMore",inject:["getDollarApollo","getApolloQuery"],props:{document:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},updateQuery:{type:Function,default:void 0}},watch:{document:"refresh",variables:"refresh"},created:function(){this.$_key="sub_component_".concat(u++)},mounted:function(){this.refresh()},beforeUnmount:function(){this.destroy()},methods:{destroy:function(){this.$_sub&&this.$_sub.destroy()},refresh:function(){this.destroy();var t=this.document;"function"==typeof t&&(t=t(r)),this.$_sub=this.getDollarApollo().addSmartSubscription(this.$_key,{document:t,variables:this.variables,updateQuery:this.updateQuery,linkedQuery:this.getApolloQuery()})}},render:function(){return null}};function a(l,a,t){var s,t=t||{},e=t.noTrailing,c=void 0!==e&&e,e=t.noLeading,d=void 0!==e&&e,e=t.debounceMode,p=void 0===e?void 0:e,h=!1,f=0;function y(){s&&clearTimeout(s)}function o(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];var r=this,i=Date.now()-f;function n(){f=Date.now(),a.apply(r,e)}function u(){s=void 0}h||(d||!p||s||n(),y(),void 0===p&&l<i?d?(f=Date.now(),c||(s=setTimeout(p?u:n,l))):n():!0!==c&&(s=setTimeout(p?u:n,void 0===p?l-i:l)))}return o.cancel=function(t){t=void 0!==(t=(t||{}).upcomingOnly)&&t,y(),h=!t},o}var s=Object.freeze({__proto__:null,debounce:function(t,e,o){return o=(o||{}).atBegin,a(t,e,{debounceMode:!1!==(void 0!==o&&o)})},throttle:a});function c(o){return function(t,e){return o(e,t)}}c(s.throttle),c(s.debounce);var d={props:{mutation:{type:[Function,Object],required:!0},variables:{type:Object,default:void 0},optimisticResponse:{type:Object,default:void 0},update:{type:Function,default:void 0},refetchQueries:{type:Function,default:void 0},clientId:{type:String,default:void 0},tag:{type:String,default:"div"},context:{type:Object,default:void 0}},data:function(){return{loading:!1,error:null}},emits:["loading","done","error"],watch:{loading:function(t){this.$emit("loading",t)}},methods:{mutate:function(t){var o=this,e=(this.loading=!0,this.error=null,this.mutation);return"function"==typeof e&&(e=e(r)),this.$apollo.mutate(i({mutation:e,client:this.clientId,variables:this.variables,optimisticResponse:this.optimisticResponse,update:this.update,refetchQueries:this.refetchQueries,context:this.context},t)).then(function(t){return o.$emit("done",t),o.loading=!1,t}).catch(function(t){var e;(e=t).graphQLErrors&&e.graphQLErrors.length&&(e.gqlError=e.graphQLErrors[0]),o.error=t,o.$emit("error",t),o.loading=!1})}},render:function(){var t=this.$slots.default({mutate:this.mutate,loading:this.loading,error:this.error,gqlError:this.error&&this.error.gqlError});return this.tag?e.h(this.tag,t):t}},s={};function p(t,e){t.component("ApolloQuery",n),t.component("ApolloSubscribeToMore",l),t.component("ApolloMutation",d)}s.install=p,s.version="4.0.0";var h=s,f=n,y=l,g=d,v=null;return"undefined"!=typeof window?v=window.Vue:"undefined"!=typeof global&&(v=global.Vue),v&&v.use(s),t.ApolloMutation=g,t.ApolloProvider=h,t.ApolloQuery=f,t.ApolloSubscribeToMore=y,t.default=s,t.install=p,t}({},gql,vue);
